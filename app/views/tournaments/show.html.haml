.row
  .small-12.large-6.columns
    %table{ 'width' => '100%' }
      %caption
        = @tournament.name
      %thead
        %tr
          %th
            Player
          - 1.upto(@players.size) do |n|
            %th
              = n

        %tbody
          - @players.each_with_index do |primary, index|
            %tr
              %td
                = index+1
                = primary.name
                = "(#{primary.rating})"
              - @players.each do |secondary|
                - if primary == secondary
                  %td
                    X
                - else
                  %td
                    - @matchup = @tournament.matchups.for_players(primary, secondary)
                    - if @matchup && @matchup.winner
                      = @matchup.winner == primary.id ? '1' : '0'
                    - else
                      = link_to 'Play', new_tournament_matchup_path(@tournament, {players: [primary, secondary] })
.row
  .small-12.large-6.columns
    %table
      %caption
        Current Results
      %thead
        %tr
          %th
            Player
          %th
            Points
      %tbody
      - @players.each do |player|
        %tr
          %td
            = player.name
          %td
            = @tournament.match_points_for player


